# ===================== 强制锁定RK3128（32位ARMv7）=====================
CONFIG_TARGET_rockchip=y
CONFIG_TARGET_rockchip_armv7=y
CONFIG_TARGET_rockchip_armv7_DEVICE_firefly-rk3128=y
# 禁止自动切换架构/机型（核心：防止被Master分支覆盖）
CONFIG_TARGET_rockchip_armv8=n
CONFIG_ALL_NONSHARED=y
# ======================================================================

# 强制生成SD/U盘烧录固件（RK3128电视盒子唯一可用格式）
CONFIG_TARGET_ROOTFS_SDIMAGE=y
CONFIG_TARGET_SDIMAGE_SIZE=2048M
CONFIG_TARGET_ROOTFS_EXT4FS=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y

# 基础系统（适配Master分支，极简无冗余）
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_firewall=n
CONFIG_PACKAGE_fstab=y
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_kmod-ipt-nft-offload=y
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y
CONFIG_PACKAGE_urngd=y
CONFIG_PACKAGE_wpad-mbedtls=y

# 打印服务核心（你的核心需求，无多余依赖）
CONFIG_PACKAGE_p910nd=y
CONFIG_PACKAGE_kmod-usb-printer=y
CONFIG_PACKAGE_luci-app-p910nd=y

# RK3128硬件适配（双USB+网口+无线，基础驱动）
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_kmod-mt7603=y
CONFIG_PACKAGE_kmod-mt76x0-common=y

# LuCI Web管理（精简版，适配Master分支）
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y

# 编译配置（保证正常编译，无警告）
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_BUILD_LOG=y
CONFIG_DISABLE_OPENWRT_FEATURES_CHECK=y
